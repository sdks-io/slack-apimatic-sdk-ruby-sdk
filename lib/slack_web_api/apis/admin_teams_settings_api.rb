# slack_web_api
#
# This file was automatically generated by APIMATIC v3.0 (
# https://www.apimatic.io ).

module SlackWebApi
  # AdminTeamsSettingsApi
  class AdminTeamsSettingsApi < BaseApi
    # Fetch information about settings in a workspace
    # @param [String] token Required parameter: Authentication token. Requires
    # scope: `admin.teams:read`
    # @param [String] team_id Required parameter: TODO: type description here
    # @return [ApiResponse] Complete http response with raw body and status code.
    def admin_teams_settings_info(token,
                                  team_id)
      @api_call
        .request(new_request_builder(HttpMethodEnum::GET,
                                     '/admin.teams.settings.info',
                                     Server::DEFAULT)
                   .header_param(new_parameter(token, key: 'token')
                                  .is_required(true))
                   .query_param(new_parameter(team_id, key: 'team_id')
                                 .is_required(true))
                   .header_param(new_parameter('application/x-www-form-urlencoded', key: 'Content-Type'))
                   .header_param(new_parameter('application/json', key: 'accept'))
                   .auth(Single.new('slackAuth')))
        .response(new_response_handler
                    .deserializer(APIHelper.method(:custom_type_deserializer))
                    .deserialize_into(DefaultSuccessTemplate.method(:from_hash))
                    .is_api_response(true)
                    .local_error('default',
                                 'Typical error response',
                                 DefaultErrorTemplateException))
        .execute
    end

    # Set the default channels of a workspace.
    # @param [String] token Required parameter: Authentication token. Requires
    # scope: `admin.teams:write`
    # @param [String] team_id Required parameter: ID for the workspace to set
    # the default channel for.
    # @param [String] channel_ids Required parameter: An array of channel IDs.
    # @return [ApiResponse] Complete http response with raw body and status code.
    def admin_teams_settings_set_default_channels(token,
                                                  team_id,
                                                  channel_ids)
      @api_call
        .request(new_request_builder(HttpMethodEnum::POST,
                                     '/admin.teams.settings.setDefaultChannels',
                                     Server::DEFAULT)
                   .form_param(new_parameter(token, key: 'token')
                                .is_required(true))
                   .form_param(new_parameter(team_id, key: 'team_id')
                                .is_required(true))
                   .form_param(new_parameter(channel_ids, key: 'channel_ids')
                                .is_required(true))
                   .header_param(new_parameter('application/x-www-form-urlencoded', key: 'content-type'))
                   .header_param(new_parameter('application/json', key: 'accept'))
                   .auth(Single.new('slackAuth')))
        .response(new_response_handler
                    .deserializer(APIHelper.method(:custom_type_deserializer))
                    .deserialize_into(DefaultSuccessTemplate.method(:from_hash))
                    .is_api_response(true)
                    .local_error('default',
                                 'Typical error response',
                                 DefaultErrorTemplateException))
        .execute
    end

    # Set the description of a given workspace.
    # @param [String] token Required parameter: Authentication token. Requires
    # scope: `admin.teams:write`
    # @param [String] team_id Required parameter: ID for the workspace to set
    # the description for.
    # @param [String] description Required parameter: The new description for
    # the workspace.
    # @return [ApiResponse] Complete http response with raw body and status code.
    def admin_teams_settings_set_description(token,
                                             team_id,
                                             description)
      @api_call
        .request(new_request_builder(HttpMethodEnum::POST,
                                     '/admin.teams.settings.setDescription',
                                     Server::DEFAULT)
                   .header_param(new_parameter(token, key: 'token')
                                  .is_required(true))
                   .form_param(new_parameter(team_id, key: 'team_id')
                                .is_required(true))
                   .form_param(new_parameter(description, key: 'description')
                                .is_required(true))
                   .header_param(new_parameter('application/x-www-form-urlencoded', key: 'content-type'))
                   .header_param(new_parameter('application/json', key: 'accept'))
                   .auth(Single.new('slackAuth')))
        .response(new_response_handler
                    .deserializer(APIHelper.method(:custom_type_deserializer))
                    .deserialize_into(DefaultSuccessTemplate.method(:from_hash))
                    .is_api_response(true)
                    .local_error('default',
                                 'Typical error response',
                                 DefaultErrorTemplateException))
        .execute
    end

    # An API method that allows admins to set the discoverability of a given
    # workspace
    # @param [String] token Required parameter: Authentication token. Requires
    # scope: `admin.teams:write`
    # @param [String] team_id Required parameter: The ID of the workspace to set
    # discoverability on.
    # @param [String] discoverability Required parameter: This workspace's
    # discovery setting. It must be set to one of `open`, `invite_only`,
    # `closed`, or `unlisted`.
    # @return [ApiResponse] Complete http response with raw body and status code.
    def admin_teams_settings_set_discoverability(token,
                                                 team_id,
                                                 discoverability)
      @api_call
        .request(new_request_builder(HttpMethodEnum::POST,
                                     '/admin.teams.settings.setDiscoverability',
                                     Server::DEFAULT)
                   .header_param(new_parameter(token, key: 'token')
                                  .is_required(true))
                   .form_param(new_parameter(team_id, key: 'team_id')
                                .is_required(true))
                   .form_param(new_parameter(discoverability, key: 'discoverability')
                                .is_required(true))
                   .header_param(new_parameter('application/x-www-form-urlencoded', key: 'content-type'))
                   .header_param(new_parameter('application/json', key: 'accept'))
                   .auth(Single.new('slackAuth')))
        .response(new_response_handler
                    .deserializer(APIHelper.method(:custom_type_deserializer))
                    .deserialize_into(DefaultSuccessTemplate.method(:from_hash))
                    .is_api_response(true)
                    .local_error('default',
                                 'Typical error response',
                                 DefaultErrorTemplateException))
        .execute
    end

    # Sets the icon of a workspace.
    # @param [String] token Required parameter: Authentication token. Requires
    # scope: `admin.teams:write`
    # @param [String] image_url Required parameter: Image URL for the icon
    # @param [String] team_id Required parameter: ID for the workspace to set
    # the icon for.
    # @return [ApiResponse] Complete http response with raw body and status code.
    def admin_teams_settings_set_icon(token,
                                      image_url,
                                      team_id)
      @api_call
        .request(new_request_builder(HttpMethodEnum::POST,
                                     '/admin.teams.settings.setIcon',
                                     Server::DEFAULT)
                   .form_param(new_parameter(token, key: 'token')
                                .is_required(true))
                   .form_param(new_parameter(image_url, key: 'image_url')
                                .is_required(true))
                   .form_param(new_parameter(team_id, key: 'team_id')
                                .is_required(true))
                   .header_param(new_parameter('application/x-www-form-urlencoded', key: 'content-type'))
                   .header_param(new_parameter('application/json', key: 'accept'))
                   .auth(Single.new('slackAuth')))
        .response(new_response_handler
                    .deserializer(APIHelper.method(:custom_type_deserializer))
                    .deserialize_into(DefaultSuccessTemplate.method(:from_hash))
                    .is_api_response(true)
                    .local_error('default',
                                 'Typical error response',
                                 DefaultErrorTemplateException))
        .execute
    end

    # Set the name of a given workspace.
    # @param [String] token Required parameter: Authentication token. Requires
    # scope: `admin.teams:write`
    # @param [String] team_id Required parameter: ID for the workspace to set
    # the name for.
    # @param [String] name Required parameter: The new name of the workspace.
    # @return [ApiResponse] Complete http response with raw body and status code.
    def admin_teams_settings_set_name(token,
                                      team_id,
                                      name)
      @api_call
        .request(new_request_builder(HttpMethodEnum::POST,
                                     '/admin.teams.settings.setName',
                                     Server::DEFAULT)
                   .header_param(new_parameter(token, key: 'token')
                                  .is_required(true))
                   .form_param(new_parameter(team_id, key: 'team_id')
                                .is_required(true))
                   .form_param(new_parameter(name, key: 'name')
                                .is_required(true))
                   .header_param(new_parameter('application/x-www-form-urlencoded', key: 'content-type'))
                   .header_param(new_parameter('application/json', key: 'accept'))
                   .auth(Single.new('slackAuth')))
        .response(new_response_handler
                    .deserializer(APIHelper.method(:custom_type_deserializer))
                    .deserialize_into(DefaultSuccessTemplate.method(:from_hash))
                    .is_api_response(true)
                    .local_error('default',
                                 'Typical error response',
                                 DefaultErrorTemplateException))
        .execute
    end
  end
end
