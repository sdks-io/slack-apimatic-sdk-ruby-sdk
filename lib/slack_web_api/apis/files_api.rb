# slack_web_api
#
# This file was automatically generated by APIMATIC v3.0 (
# https://www.apimatic.io ).

module SlackWebApi
  # FilesApi
  class FilesApi < BaseApi
    # Deletes a file.
    # @param [String] token Optional parameter: Authentication token. Requires
    # scope: `files:write:user`
    # @param [String] file Optional parameter: ID of file to delete.
    # @return [ApiResponse] Complete http response with raw body and status code.
    def files_delete(token: nil,
                     file: nil)
      @api_call
        .request(new_request_builder(HttpMethodEnum::POST,
                                     '/files.delete',
                                     Server::DEFAULT)
                   .header_param(new_parameter(token, key: 'token'))
                   .form_param(new_parameter(file, key: 'file'))
                   .header_param(new_parameter('application/x-www-form-urlencoded', key: 'content-type'))
                   .header_param(new_parameter('application/json', key: 'accept'))
                   .auth(Single.new('slackAuth')))
        .response(new_response_handler
                    .deserializer(APIHelper.method(:custom_type_deserializer))
                    .deserialize_into(FilesDeleteSchema.method(:from_hash))
                    .is_api_response(true)
                    .local_error('default',
                                 'Typical error response',
                                 FilesDeleteErrorSchemaException))
        .execute
    end

    # Gets information about a file.
    # @param [String] token Optional parameter: Authentication token. Requires
    # scope: `files:read`
    # @param [String] file Optional parameter: Specify a file by providing its
    # ID.
    # @param [String] count Optional parameter: TODO: type description here
    # @param [String] page Optional parameter: TODO: type description here
    # @param [Integer] limit Optional parameter: The maximum number of items to
    # return. Fewer than the requested number of items may be returned, even if
    # the end of the list hasn't been reached.
    # @param [String] cursor Optional parameter: Parameter for pagination. File
    # comments are paginated for a single file. Set `cursor` equal to the
    # `next_cursor` attribute returned by the previous request's
    # `response_metadata`. This parameter is optional, but pagination is
    # mandatory: the default value simply fetches the first "page" of the
    # collection of comments. See [pagination](/docs/pagination) for more
    # details.
    # @return [ApiResponse] Complete http response with raw body and status code.
    def files_info(token: nil,
                   file: nil,
                   count: nil,
                   page: nil,
                   limit: nil,
                   cursor: nil)
      @api_call
        .request(new_request_builder(HttpMethodEnum::GET,
                                     '/files.info',
                                     Server::DEFAULT)
                   .header_param(new_parameter('application/x-www-form-urlencoded', key: 'Content-Type'))
                   .query_param(new_parameter(token, key: 'token'))
                   .query_param(new_parameter(file, key: 'file'))
                   .query_param(new_parameter(count, key: 'count'))
                   .query_param(new_parameter(page, key: 'page'))
                   .query_param(new_parameter(limit, key: 'limit'))
                   .query_param(new_parameter(cursor, key: 'cursor'))
                   .header_param(new_parameter('application/json', key: 'accept'))
                   .auth(Single.new('slackAuth')))
        .response(new_response_handler
                    .deserializer(APIHelper.method(:custom_type_deserializer))
                    .deserialize_into(FilesInfoSchema.method(:from_hash))
                    .is_api_response(true)
                    .local_error('default',
                                 'Typical error response',
                                 FilesInfoErrorSchemaException))
        .execute
    end

    # List for a team, in a channel, or from a user with applied filters.
    # @param [String] token Optional parameter: Authentication token. Requires
    # scope: `files:read`
    # @param [String] user Optional parameter: Filter files created by a single
    # user.
    # @param [String] channel Optional parameter: Filter files appearing in a
    # specific channel, indicated by its ID.
    # @param [Float] ts_from Optional parameter: Filter files created after this
    # timestamp (inclusive).
    # @param [Float] ts_to Optional parameter: Filter files created before this
    # timestamp (inclusive).
    # @param [String] types Optional parameter: Filter files by type ([see
    # below](#file_types)). You can pass multiple values in the types argument,
    # like `types=spaces,snippets`.The default value is `all`, which does not
    # filter the list.
    # @param [String] count Optional parameter: TODO: type description here
    # @param [String] page Optional parameter: TODO: type description here
    # @param [TrueClass | FalseClass] show_files_hidden_by_limit Optional
    # parameter: Show truncated file info for files hidden due to being too old,
    # and the team who owns the file being over the file limit.
    # @return [ApiResponse] Complete http response with raw body and status code.
    def files_list(token: nil,
                   user: nil,
                   channel: nil,
                   ts_from: nil,
                   ts_to: nil,
                   types: nil,
                   count: nil,
                   page: nil,
                   show_files_hidden_by_limit: nil)
      @api_call
        .request(new_request_builder(HttpMethodEnum::GET,
                                     '/files.list',
                                     Server::DEFAULT)
                   .header_param(new_parameter('application/x-www-form-urlencoded', key: 'Content-Type'))
                   .query_param(new_parameter(token, key: 'token'))
                   .query_param(new_parameter(user, key: 'user'))
                   .query_param(new_parameter(channel, key: 'channel'))
                   .query_param(new_parameter(ts_from, key: 'ts_from'))
                   .query_param(new_parameter(ts_to, key: 'ts_to'))
                   .query_param(new_parameter(types, key: 'types'))
                   .query_param(new_parameter(count, key: 'count'))
                   .query_param(new_parameter(page, key: 'page'))
                   .query_param(new_parameter(show_files_hidden_by_limit, key: 'show_files_hidden_by_limit'))
                   .header_param(new_parameter('application/json', key: 'accept'))
                   .auth(Single.new('slackAuth')))
        .response(new_response_handler
                    .deserializer(APIHelper.method(:custom_type_deserializer))
                    .deserialize_into(FilesListSchema.method(:from_hash))
                    .is_api_response(true)
                    .local_error('default',
                                 'Typical error response',
                                 FilesListErrorSchemaException))
        .execute
    end

    # Revokes public/external sharing access for a file
    # @param [String] token Optional parameter: Authentication token. Requires
    # scope: `files:write:user`
    # @param [String] file Optional parameter: File to revoke
    # @return [ApiResponse] Complete http response with raw body and status code.
    def files_revoke_public_url(token: nil,
                                file: nil)
      @api_call
        .request(new_request_builder(HttpMethodEnum::POST,
                                     '/files.revokePublicURL',
                                     Server::DEFAULT)
                   .header_param(new_parameter(token, key: 'token'))
                   .form_param(new_parameter(file, key: 'file'))
                   .header_param(new_parameter('application/x-www-form-urlencoded', key: 'content-type'))
                   .header_param(new_parameter('application/json', key: 'accept'))
                   .auth(Single.new('slackAuth')))
        .response(new_response_handler
                    .deserializer(APIHelper.method(:custom_type_deserializer))
                    .deserialize_into(FilesRevokePublicUrlSchema.method(:from_hash))
                    .is_api_response(true)
                    .local_error('default',
                                 'Typical error response',
                                 FilesRevokePublicUrlErrorSchemaException))
        .execute
    end

    # Enables a file for public/external sharing.
    # @param [String] token Optional parameter: Authentication token. Requires
    # scope: `files:write:user`
    # @param [String] file Optional parameter: File to share
    # @return [ApiResponse] Complete http response with raw body and status code.
    def files_shared_public_url(token: nil,
                                file: nil)
      @api_call
        .request(new_request_builder(HttpMethodEnum::POST,
                                     '/files.sharedPublicURL',
                                     Server::DEFAULT)
                   .header_param(new_parameter(token, key: 'token'))
                   .form_param(new_parameter(file, key: 'file'))
                   .header_param(new_parameter('application/x-www-form-urlencoded', key: 'content-type'))
                   .header_param(new_parameter('application/json', key: 'accept'))
                   .auth(Single.new('slackAuth')))
        .response(new_response_handler
                    .deserializer(APIHelper.method(:custom_type_deserializer))
                    .deserialize_into(FilesSharedPublicUrlSchema.method(:from_hash))
                    .is_api_response(true)
                    .local_error('default',
                                 'Typical error response',
                                 FilesSharedPublicUrlErrorSchemaException))
        .execute
    end

    # Uploads or creates a file.
    # @param [String] token Optional parameter: Authentication token. Requires
    # scope: `files:write:user`
    # @param [String] file Optional parameter: File contents via
    # `multipart/form-data`. If omitting this parameter, you must submit
    # `content`.
    # @param [String] content Optional parameter: File contents via a POST
    # variable. If omitting this parameter, you must provide a `file`.
    # @param [String] filetype Optional parameter: A [file
    # type](/types/file#file_types) identifier.
    # @param [String] filename Optional parameter: Filename of file.
    # @param [String] title Optional parameter: Title of file.
    # @param [String] initial_comment Optional parameter: The message text
    # introducing the file in specified `channels`.
    # @param [String] channels Optional parameter: Comma-separated list of
    # channel names or IDs where the file will be shared.
    # @param [Float] thread_ts Optional parameter: Provide another message's
    # `ts` value to upload this file as a reply. Never use a reply's `ts` value;
    # use its parent instead.
    # @return [ApiResponse] Complete http response with raw body and status code.
    def files_upload(token: nil,
                     file: nil,
                     content: nil,
                     filetype: nil,
                     filename: nil,
                     title: nil,
                     initial_comment: nil,
                     channels: nil,
                     thread_ts: nil)
      @api_call
        .request(new_request_builder(HttpMethodEnum::POST,
                                     '/files.upload',
                                     Server::DEFAULT)
                   .form_param(new_parameter(token, key: 'token'))
                   .form_param(new_parameter(file, key: 'file'))
                   .form_param(new_parameter(content, key: 'content'))
                   .form_param(new_parameter(filetype, key: 'filetype'))
                   .form_param(new_parameter(filename, key: 'filename'))
                   .form_param(new_parameter(title, key: 'title'))
                   .form_param(new_parameter(initial_comment, key: 'initial_comment'))
                   .form_param(new_parameter(channels, key: 'channels'))
                   .form_param(new_parameter(thread_ts, key: 'thread_ts'))
                   .header_param(new_parameter('application/x-www-form-urlencoded', key: 'content-type'))
                   .header_param(new_parameter('application/json', key: 'accept'))
                   .auth(Single.new('slackAuth')))
        .response(new_response_handler
                    .deserializer(APIHelper.method(:custom_type_deserializer))
                    .deserialize_into(FilesUploadSchema.method(:from_hash))
                    .is_api_response(true)
                    .local_error('default',
                                 'Typical error response',
                                 FilesUploadErrorSchemaException))
        .execute
    end
  end
end
