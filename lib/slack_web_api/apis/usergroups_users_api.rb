# slack_web_api
#
# This file was automatically generated by APIMATIC v3.0 (
# https://www.apimatic.io ).

module SlackWebApi
  # UsergroupsUsersApi
  class UsergroupsUsersApi < BaseApi
    # List all users in a User Group
    # @param [String] token Required parameter: Authentication token. Requires
    # scope: `usergroups:read`
    # @param [String] usergroup Required parameter: The encoded ID of the User
    # Group to update.
    # @param [TrueClass | FalseClass] include_disabled Optional parameter: Allow
    # results that involve disabled User Groups.
    # @return [ApiResponse] Complete http response with raw body and status code.
    def usergroups_users_list(token,
                              usergroup,
                              include_disabled: nil)
      @api_call
        .request(new_request_builder(HttpMethodEnum::GET,
                                     '/usergroups.users.list',
                                     Server::DEFAULT)
                   .query_param(new_parameter(token, key: 'token')
                                 .is_required(true))
                   .query_param(new_parameter(usergroup, key: 'usergroup')
                                 .is_required(true))
                   .header_param(new_parameter('application/x-www-form-urlencoded', key: 'Content-Type'))
                   .query_param(new_parameter(include_disabled, key: 'include_disabled'))
                   .header_param(new_parameter('application/json', key: 'accept'))
                   .auth(Single.new('slackAuth')))
        .response(new_response_handler
                    .deserializer(APIHelper.method(:custom_type_deserializer))
                    .deserialize_into(UsergroupsUsersListSchema.method(:from_hash))
                    .is_api_response(true)
                    .local_error('default',
                                 'Standard failure response when used with an invalid token',
                                 UsergroupsUsersListErrorSchemaException))
        .execute
    end

    # Update the list of users for a User Group
    # @param [String] token Required parameter: Authentication token. Requires
    # scope: `usergroups:write`
    # @param [String] usergroup Required parameter: The encoded ID of the User
    # Group to update.
    # @param [String] users Required parameter: A comma separated string of
    # encoded user IDs that represent the entire list of users for the User
    # Group.
    # @param [TrueClass | FalseClass] include_count Optional parameter: Include
    # the number of users in the User Group.
    # @return [ApiResponse] Complete http response with raw body and status code.
    def usergroups_users_update(token,
                                usergroup,
                                users,
                                include_count: nil)
      @api_call
        .request(new_request_builder(HttpMethodEnum::POST,
                                     '/usergroups.users.update',
                                     Server::DEFAULT)
                   .header_param(new_parameter(token, key: 'token')
                                  .is_required(true))
                   .form_param(new_parameter(usergroup, key: 'usergroup')
                                .is_required(true))
                   .form_param(new_parameter(users, key: 'users')
                                .is_required(true))
                   .form_param(new_parameter(include_count, key: 'include_count'))
                   .header_param(new_parameter('application/x-www-form-urlencoded', key: 'content-type'))
                   .header_param(new_parameter('application/json', key: 'accept'))
                   .auth(Single.new('slackAuth')))
        .response(new_response_handler
                    .deserializer(APIHelper.method(:custom_type_deserializer))
                    .deserialize_into(UsergroupsUsersUpdateSchema.method(:from_hash))
                    .is_api_response(true)
                    .local_error('default',
                                 'Typical error response',
                                 UsergroupsUsersUpdateErrorSchemaException))
        .execute
    end
  end
end
