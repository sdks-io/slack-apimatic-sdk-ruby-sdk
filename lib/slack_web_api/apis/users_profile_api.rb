# slack_web_api
#
# This file was automatically generated by APIMATIC v3.0 (
# https://www.apimatic.io ).

module SlackWebApi
  # UsersProfileApi
  class UsersProfileApi < BaseApi
    # Retrieves a user's profile information.
    # @param [String] token Required parameter: Authentication token. Requires
    # scope: `users.profile:read`
    # @param [TrueClass | FalseClass] include_labels Optional parameter: Include
    # labels for each ID in custom profile fields
    # @param [String] user Optional parameter: User to retrieve profile info
    # for
    # @return [ApiResponse] Complete http response with raw body and status code.
    def users_profile_get(token,
                          include_labels: nil,
                          user: nil)
      @api_call
        .request(new_request_builder(HttpMethodEnum::GET,
                                     '/users.profile.get',
                                     Server::DEFAULT)
                   .query_param(new_parameter(token, key: 'token')
                                 .is_required(true))
                   .header_param(new_parameter('application/x-www-form-urlencoded', key: 'Content-Type'))
                   .query_param(new_parameter(include_labels, key: 'include_labels'))
                   .query_param(new_parameter(user, key: 'user'))
                   .header_param(new_parameter('application/json', key: 'accept'))
                   .auth(Single.new('slackAuth')))
        .response(new_response_handler
                    .deserializer(APIHelper.method(:custom_type_deserializer))
                    .deserialize_into(UsersProfileGetSchema.method(:from_hash))
                    .is_api_response(true)
                    .local_error('default',
                                 'Typical error response',
                                 UsersProfileGetErrorSchemaException))
        .execute
    end

    # Set the profile information for a user.
    # @param [String] token Required parameter: Authentication token. Requires
    # scope: `users.profile:write`
    # @param [String] name Optional parameter: Name of a single key to set.
    # Usable only if `profile` is not passed.
    # @param [String] profile Optional parameter: Collection of key:value pairs
    # presented as a URL-encoded JSON hash. At most 50 fields may be set. Each
    # field name is limited to 255 characters.
    # @param [String] user Optional parameter: ID of user to change. This
    # argument may only be specified by team admins on paid teams.
    # @param [String] value Optional parameter: Value to set a single key to.
    # Usable only if `profile` is not passed.
    # @return [ApiResponse] Complete http response with raw body and status code.
    def users_profile_set(token,
                          name: nil,
                          profile: nil,
                          user: nil,
                          value: nil)
      @api_call
        .request(new_request_builder(HttpMethodEnum::POST,
                                     '/users.profile.set',
                                     Server::DEFAULT)
                   .header_param(new_parameter(token, key: 'token')
                                  .is_required(true))
                   .form_param(new_parameter(name, key: 'name'))
                   .form_param(new_parameter(profile, key: 'profile'))
                   .form_param(new_parameter(user, key: 'user'))
                   .form_param(new_parameter(value, key: 'value'))
                   .header_param(new_parameter('application/x-www-form-urlencoded', key: 'content-type'))
                   .header_param(new_parameter('application/json', key: 'accept'))
                   .auth(Single.new('slackAuth')))
        .response(new_response_handler
                    .deserializer(APIHelper.method(:custom_type_deserializer))
                    .deserialize_into(UsersProfileSetSchema.method(:from_hash))
                    .is_api_response(true)
                    .local_error('default',
                                 'Typical error response',
                                 UsersProfileSetErrorSchemaException))
        .execute
    end
  end
end
